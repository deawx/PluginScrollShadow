!function(){return function e(t,o,r){function i(s,l){if(!o[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(n)return n(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var S=o[s]={exports:{}};t[s][0].call(S.exports,function(e){var o=t[s][1][e];return i(o||e)},S,S.exports,e,t,o,r)}return o[s].exports}for(var n="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}}()({1:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function e(){}return e.detectBrowser=function(){var e,t=navigator.userAgent;return localStorage.getItem("browser")?localStorage.getItem("browser"):(t.indexOf("Chrome")>-1?e="Chrome":t.indexOf("Safari")>-1?e="Safari":t.indexOf("Opera")>-1?e="Opera":t.indexOf("Firefox")>-1?e="Firefox":t.indexOf("Edge")>-1?e="Edge":(navigator.userAgent.indexOf("Trident/7.0")>0||/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent))&&(e="IE"),localStorage.setItem("browser",e),e)},e.changeProperty=function(e,t){"IE"===this.detectBrowser()?Object.keys(t).forEach(function(o){var r=o.split("-"),i=r[r.length-1];i.match(/^translate|rotate|skew|matrix|perpective$/)?e.style.transform=i+"("+t[o]+")":e.style[i]=t[o]}):Object.keys(t).forEach(function(o){e.style.setProperty(o,t[o])})},e}();o.UI=r},{}],2:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=e("../core/ui"),i=function(){function e(t,o){var r=this;this.scrollData={offsetTop:void 0,offsetBottom:void 0},this.properties={mobileBreakpoint:980,height:8,initialColor:"rgba(84, 84, 84, .3)",finalColor:"rgba(255, 255, 255, 0)",headerElement:void 0,footerElement:void 0,workMobile:!0},this.buildUI=function(){if(r.properties.headerElement){if(r.headerParentElement=r.rootElement.parentElement.querySelector("."+r.properties.headerElement),!r.headerParentElement)throw new Error("ERROR: No header element found: "+r.properties.headerElement.toString());r.headerParentElement.style.position="relative",(s=document.createElement("div")).classList.add(e.CSS_CLASSES.HEADER),r.headerParentElement.appendChild(s),r.headerElement=r.headerParentElement.querySelector("."+e.CSS_CLASSES.HEADER)}var t=document.createElement("div");if(t.classList.add(e.CSS_CLASSES.SCROLLER),void 0===r.properties.headerElement){var o=document.createElement("div");o.classList.add(e.CSS_CLASSES.SCROLL_BEFORE),t.appendChild(o)}if(r.rootElement.childElementCount<1)t.appendChild(r.rootElement.firstChild);else for(var i=0;i<r.rootElement.children.length;i++)t.appendChild(r.rootElement.children[i]);if(void 0===r.properties.footerElement){var n=document.createElement("div");n.classList.add(e.CSS_CLASSES.SCROLL_AFTER),t.appendChild(n)}if(r.rootElement.appendChild(t),r.rootElement.addEventListener("scroll",function(e){var t=new Event("scroll");t.initEvent("scroll",!0,!0),window.dispatchEvent(t)},!1),r.properties.footerElement){if(r.footerParentElement=r.rootElement.parentElement.querySelector("."+r.properties.footerElement),!r.footerParentElement)throw new Error("ERROR: No footer element found: "+r.properties.footerElement.toString());var s;r.footerParentElement.style.position="relative",(s=document.createElement("div")).classList.add(e.CSS_CLASSES.FOOTER),r.footerParentElement.appendChild(s),r.footerElement=r.footerParentElement.querySelector("."+e.CSS_CLASSES.FOOTER)}},this.onMutation=function(){setTimeout(r.updateScrollData,10)},this.updateScrollData=function(){r.updateShadowPosition(),r.checkState()},this.onResize=function(){r.isMobile()&&"false"===r.properties.workInMobile?(r.headerParentElement&&(r.headerParentElement.style.position=""),r.footerParentElement&&(r.footerParentElement.style.position=""),window.removeEventListener(r.handlers().elementScroll.event,r.handlers().elementScroll.callback),r.mutationObserver.disconnect()):(r.headerParentElement&&(r.headerParentElement.style.position="relative"),r.footerParentElement&&(r.footerParentElement.style.position="relative"),r.setObservable(),window.addEventListener(r.handlers().elementScroll.event,r.handlers().elementScroll.callback),r.updateScrollData())},t instanceof HTMLElement?this.rootElement=t:this.rootElement=document.querySelector(t),this.rootElement.classList.add(e.CSS_CLASSES.ROOT),this.properties=Object.assign(this.properties,o),this.properties=Object.assign(this.properties,{height:isNaN(parseInt(this.rootElement.getAttribute(e.PROPERTIES.DATA_PLUGIN_SHADOW_HEIGHT)))?this.properties.height:parseInt(this.rootElement.getAttribute(e.PROPERTIES.DATA_PLUGIN_SHADOW_HEIGHT)),initialColor:this.rootElement.getAttribute(e.PROPERTIES.DATA_PLUGIN_SHADOW_INITIAL_COLOR)||this.properties.initialColor,finalColor:this.rootElement.getAttribute(e.PROPERTIES.DATA_PLUGIN_SHADOW_FINAL_COLOR)||this.properties.finalColor,headerElement:this.rootElement.getAttribute(e.PROPERTIES.DATA_PLUGIN_SHADOW_HEADER)||this.properties.headerElement,footerElement:this.rootElement.getAttribute(e.PROPERTIES.DATA_PLUGIN_SHADOW_FOOTER)||this.properties.footerElement,workInMobile:this.rootElement.getAttribute(e.PROPERTIES.DATA_PLUGIN_SHADOW_MOBILE)&&"false"===this.rootElement.getAttribute(e.PROPERTIES.DATA_PLUGIN_SHADOW_MOBILE).toLowerCase()?this.rootElement.getAttribute(e.PROPERTIES.DATA_PLUGIN_SHADOW_MOBILE).toLowerCase():this.properties.workMobile});try{this.init(),this.buildUI(),this.setProperties(),this.updateScrollData()}catch(e){console.error(e.message),this.destroy()}}return e.prototype.init=function(){this.registerEventHandler()},e.prototype.destroy=function(){this.deRegisterEventHandler()},e.prototype.handlers=function(){return{elementScroll:{event:"scroll",callback:this.updateScrollData},windowResize:{event:"resize",callback:this.onResize}}},e.prototype.registerEventHandler=function(){this.setObservable(),window.addEventListener(this.handlers().elementScroll.event,this.handlers().elementScroll.callback),window.addEventListener(this.handlers().windowResize.event,this.handlers().windowResize.callback)},e.prototype.deRegisterEventHandler=function(){window.removeEventListener(this.handlers().elementScroll.event,this.handlers().elementScroll.callback),window.removeEventListener(this.handlers().windowResize.event,this.handlers().windowResize.callback),this.mutationObserver.disconnect()},e.prototype.setProperties=function(){var t={};if(t[e.CSS_VARIABLES.SHADOW_INITIAL_COLOR]=this.properties.initialColor,t[e.CSS_VARIABLES.SHADOW_FINAL_COLOR]=this.properties.finalColor,t[e.CSS_VARIABLES.SHADOW_HEIGHT]=this.properties.height+"px",this.properties.headerElement)r.UI.changeProperty(this.headerElement,t);else{if(this.scrollBefore=this.rootElement.querySelector("."+e.CSS_CLASSES.SCROLL_BEFORE),!this.scrollBefore)throw new Error("ERROR: No element top shadow found! Class: "+e.CSS_CLASSES.SCROLL_BEFORE);r.UI.changeProperty(this.scrollBefore,t)}if(this.properties.footerElement)r.UI.changeProperty(this.footerElement,t);else{if(this.scrollAfter=this.rootElement.querySelector("."+e.CSS_CLASSES.SCROLL_AFTER),!this.scrollAfter)throw new Error("ERROR: No element bottom shadow found! Class: "+e.CSS_CLASSES.SCROLL_AFTER);r.UI.changeProperty(this.scrollAfter,t)}},e.prototype.setObservable=function(){this.mutationObserver=new MutationObserver(this.onMutation),this.mutationObserver.observe(this.rootElement.parentElement,{attributes:!0,childList:!0,characterData:!1,subtree:!0,attributeFilter:["class"]})},e.prototype.updateShadowPosition=function(){if(this.scrollData={offsetTop:this.rootElement.scrollTop,offsetBottom:this.rootElement.scrollHeight-(this.rootElement.scrollTop+this.rootElement.clientHeight)},void 0===this.properties.headerElement){var t={};t[e.CSS_VARIABLES.SHADOW_TOP_OFFSET]=this.scrollData.offsetTop+"px",r.UI.changeProperty(this.scrollBefore,t)}if(void 0===this.properties.footerElement){var o={};o[e.CSS_VARIABLES.SHADOW_BOTTOM_OFFSET]=this.scrollData.offsetBottom+"px",r.UI.changeProperty(this.scrollAfter,o)}},e.prototype.checkState=function(){this.scrollData.offsetTop>0&&this.scrollData.offsetBottom>0?(this.properties.headerElement?this.fadeInShadow(e.CSS_VARIABLES.SHADOW_TOP_HEIGHT,this.headerElement):this.fadeInShadow(e.CSS_VARIABLES.SHADOW_TOP_HEIGHT,this.scrollBefore),this.properties.footerElement?this.fadeInShadow(e.CSS_VARIABLES.SHADOW_BOTTOM_HEIGHT,this.footerElement):this.fadeInShadow(e.CSS_VARIABLES.SHADOW_BOTTOM_HEIGHT,this.scrollAfter)):this.scrollData.offsetTop>0?(this.properties.headerElement?this.fadeInShadow(e.CSS_VARIABLES.SHADOW_TOP_HEIGHT,this.headerElement):this.fadeInShadow(e.CSS_VARIABLES.SHADOW_TOP_HEIGHT,this.scrollBefore),this.properties.footerElement?this.fadeOutShadow(e.CSS_VARIABLES.SHADOW_BOTTOM_HEIGHT,this.footerElement):this.fadeOutShadow(e.CSS_VARIABLES.SHADOW_BOTTOM_HEIGHT,this.scrollAfter)):this.scrollData.offsetBottom>0?(this.properties.headerElement?this.fadeOutShadow(e.CSS_VARIABLES.SHADOW_TOP_HEIGHT,this.headerElement):this.fadeOutShadow(e.CSS_VARIABLES.SHADOW_TOP_HEIGHT,this.scrollBefore),this.properties.footerElement?this.fadeInShadow(e.CSS_VARIABLES.SHADOW_BOTTOM_HEIGHT,this.footerElement):this.fadeInShadow(e.CSS_VARIABLES.SHADOW_BOTTOM_HEIGHT,this.scrollAfter)):(this.properties.headerElement?this.fadeOutShadow(e.CSS_VARIABLES.SHADOW_TOP_HEIGHT,this.headerElement):this.fadeOutShadow(e.CSS_VARIABLES.SHADOW_TOP_HEIGHT,this.scrollBefore),this.properties.footerElement?this.fadeOutShadow(e.CSS_VARIABLES.SHADOW_BOTTOM_HEIGHT,this.footerElement):this.fadeOutShadow(e.CSS_VARIABLES.SHADOW_BOTTOM_HEIGHT,this.scrollAfter))},e.prototype.fadeInShadow=function(e,t){if(parseInt(this.rootElement.style.getPropertyValue(e))!==this.properties.height){var o={};o[e]=this.properties.height+"px",r.UI.changeProperty(t,o)}},e.prototype.fadeOutShadow=function(e,t){if(0!==parseInt(this.rootElement.style.getPropertyValue(e))){var o={};o[e]="0px",r.UI.changeProperty(t,o)}},e.prototype.isMobile=function(){return window.innerWidth<this.properties.mobileBreakpoint},e.PROPERTIES={DATA_PLUGIN_SHADOW_HEIGHT:"data-plugin-shadow-height",DATA_PLUGIN_SHADOW_INITIAL_COLOR:"data-plugin-shadow-initial-color",DATA_PLUGIN_SHADOW_FINAL_COLOR:"data-plugin-shadow-final-color",DATA_PLUGIN_SHADOW_HEADER:"data-plugin-shadow-header",DATA_PLUGIN_SHADOW_FOOTER:"data-plugin-shadow-footer",DATA_PLUGIN_SHADOW_MOBILE:"data-plugin-shadow-mobile"},e.CSS_CLASSES={ROOT:"plugin-scroll-shadow",SCROLLER:"plugin-scroll-shadow__scroller",SCROLL_BEFORE:"plugin-scroll-shadow__scroller__before",SCROLL_AFTER:"plugin-scroll-shadow__scroller__after",HEADER:"plugin-scroll-shadow__header",FOOTER:"plugin-scroll-shadow__footer"},e.CSS_VARIABLES={SHADOW_HEIGHT:"--plugin-shadow-height",SHADOW_TOP_OFFSET:"--plugin-shadow-offset-top",SHADOW_BOTTOM_OFFSET:"--plugin-shadow-offset-bottom",SHADOW_TOP_HEIGHT:"--plugin-shadow-top-maxHeight",SHADOW_BOTTOM_HEIGHT:"--plugin-shadow-bottom-maxHeight",SHADOW_INITIAL_COLOR:"--plugin-shadow-initial-backgroundColor",SHADOW_FINAL_COLOR:"--plugin-shadow-final-backgroundColor"},e}();o.PluginScrollShadow=i},{"../core/ui":1}],3:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r,i=e("./components/shadowPlugin/index");!function(e){e.PluginScrollShadow=i.PluginScrollShadow}(r=o.Components||(o.Components={})),window.Components={PluginScrollShadow:r.PluginScrollShadow}},{"./components/shadowPlugin/index":2}]},{},[3]);
//# sourceMappingURL=bundle.js.map
